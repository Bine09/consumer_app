<div class="product-reviews">
    <% @comments.each do |comment| %>
        <div class="card">
            <div class="card-header bg-warning">
            <p><%= comment.user.first_name %> <small><em><%= "#{time_ago_in_words(comment.created_at)} ago" %></em></small>
             <% if signed_in? && current_user.admin? %>   
              <!-- note that we always need to check if a user is signed in before calling any method on current_user. If there is no user signed in, the current_user variable does not exist and will raise a nil error. -->
            <%= link_to ('<i class="fas fa-times"></i>').html_safe, product_comment_path(comment.product, comment), method: :delete, data: { confirm: 'Are you sure?' } %>
            <% end %>
          </p>
            </div>
            <div class="card-body">
            <div class="rated" data-score="<%= comment.rating %>"></div>
            <p><%= comment.body %></p>
            </div>
        </div>
    <% end %>
</div>
